지금까지 논리 설계로 DB 구축을 위해 업무를 데이터로 분석하고 ERD도 만들고 했는데 이것만으로는 충분한 데이터 분석이 되지 못한다! → 프로세스 모델링도 해야 한다!

정보공학 관점에서는 오브젝트 모델링에 이 프로세스 모델링까지 포함한다. 근데 우리 책은 오브젝트 모델링이 더 핵심이니 프로세스 모델링에서 중요한 프로세스와 이벤트만 설명해봄

앞서 말했듯이 모델링은 Notation인데, 크게 아래와 같이 3개로 나뉜다.

- 첫 번째, 업무가 하고 있는 또는 해야하는 것을 기록하는 업무 기능에 대한 프로세스 관점의 모델(What, Data)
- 두 번째, 업무가 필요로 하는 것을 기술하거나 필요로 하는 것 간의 관계를 기술하는 데이터 관점의 모델(How, Process)
- 세 번째, 프로세스 관점으로 업무가 하는 방법과 데이터관점으로 업무가 필요로 하는 것이 어떻게 영향을 주는가에 대한 영향 분석 관점의 상관 모델(Interaction)

프로세스 모델링은 정보 시스템 구축을 위해 해당 업무에 어떤 프로세스가 있는지 또는 업무 처리에 필요한 프로세스가 무엇인지 분석하는 방법이다.

기본적으로 알아야 할 개념은

- 단위 프로세스: 가장 작은 단위의 프로세스, 일반적으로 한 사람이 한 곳에서 그 일이 완성될 때까지 수행된다. 보통 트랜잭션 단위라고도 한다. 정확히 말하자면 DB 기술의 트랜잭션이 아닌 업무적으로 지켜야 할 트랜잭션의 단위가 된다.
- 트랜잭션
- 데이터 무결성 보장
    - 트랜잭션 무결성: 데이터나 데이터값에 상관 없이 업무적으로 지켜져야 할 무결성

## 4.1 업무 기능 분해

### 업무 기능 분해

### 1) 업무기능 분해의 목적

- 정보화 시스템을 구축하는 가장 최저 단위의 **단위 프로세스를 도출**하기 위함
- 전체 업무의 체계를 프로세스를 중심으로 도식화하여 업무에 대한 **기능을 파악**하는 것

### 2) 업무기능 분해의 개념

- 업무기능 분해는 계층 구조 방식 중 하향식(Top-down)
- 업무기능 분해를 정의하려면 업무 기능과 업무 프로세스에 대한 명확한 구분이 필요
- 업무 기능: 기업의 임무를 한층 더 멀리 조명하여 하나로 표현하는 완벽한 단위 업무기능의 그룹. 일반적으로 서브젝트 에어리어가 최상위 업무 기준의 기능 분해의 예가 됨(영업, 회계, 제조 등)
- 업무 기능이 무엇인지 또 왜 하는지에 대한 설명이 필요(누가 언제 어디서와 같은 다른 부분에 대해서는 서술해서는 안됨. 이것은 근본적인 게 아니라 파생적이기 때문)

### 3) 업무 프로세스의 개념

- 프로세스: 입력과 출력이 존재하는 업무 기능으로 프로세스를 실행함으로써 데이터의 입력과 출력이 수행됨. **정보의 입출력 단위**
- 프로세스 임을 판단하는 근거. 아래를 만족하면 프로세스에 해당
- ① 해당 업무 기능이 실행 단위인지 관리 단위인지 판단
- ② 업무기능에 입력과 출력의 행위가 이루어지는지를 확인
- ex) 접수하다 = 접수 정보의 입력 + 접수 정보 생성되어 출력

### 4) 업무기능 분해도에서 프로세스의 적용

- 프로세스에 대한 기술: 항상 엔티티타입의 이름이나 속성의 명사형 이름에 동사를 더하여 구성. 엔티티타입과 속성을 생성하는 근거가 될수 있음
- (EX. "주문한다" "송장을 만든다." "계약을 종료한다." "계약일자를 공고한다.")
- 프로세스 정의 시 확인할 사항으로 그 프로세스가 단위 프로세스 인지 확인하는 것이다. 단위 프로세스는 더 이상 자식을 가질 수 없음
- "직원을 채용한다." 라는 프로세스의 계층도
    
    ![http://wiki.gurubee.net/download/attachments/1966779/mod4.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod4.JPG)
    

### 5) 업무 기능 분해 방법

업무 기능 분해도: 단위 프로세스가 도출될 때까지 지속적으로 나눠 다이어그램으로 표현한 것

- 업무 기능 분해 순서
- ① 해당 업무에서 단일 업무기능으로 정의하고자 하는 큰 구분, 즉 뿌리 기능을 지정(ex. 기본 인사 관리, 근태 관리, 급여 관리)
- ② 단일 기능으로 정의해 놓은 업무기능을 더 세부적으로 쪼개어 나감(ex. 인사 기본 관리 -> 기본 사항 접수, 자격증, 해외 여행, 상벌 사항등)
- ③ 기능들을 업무 발생 순서대로 업무기능 분해도에 배치
- ④단위 프로세스가 도출될 때까지 모든 업무기능에 대해 위 작업들을 반복적으로 수행. 업무 기능을 분해하는 궁극적인 목표는 단위업무 프로세스를 도출

### 업무 기능 분해 자료

1.  해당 업무를 구체화하여 업무기능을 분해하는 방법은 보통 분해(DECOMPOSITION) 작업의 첫 번째 단계에서 이용된다.

![http://wiki.gurubee.net/download/attachments/1966779/mod5.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod5.JPG)

예를 들어, 공사 관리라는 업무 기능이 있다면, 아파트 공사, 도로 공사, 하수도 공사로 구분될 수 있다. 이렇게 업무 구체화에 의해 기능을 분해하는 경우는 비슷한 업무를 다른 조직에서 수행하지만, 수행 방식이 다를 경우에 이용한다.

보험 사고 관리도 마찬가지다. 어떤 사고에 따라 처리 방식이 다르기 때문에 업무 구체화에 의해 기능이 분해된다. 중요한 점은 정말 업무 수행의 모습이 다른지를 잘 검증해야 한다. 비슷하면 업무 구체화로 분해하지 않고 시간순인 생명 주기에 따라 기능을 분해할 수 있다.

1. 업무기능의 생명 주기(LIKE CYCLE)를 분석하여 업무기능을 분해한다.

![http://wiki.gurubee.net/download/attachments/1966779/mod6.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod6.JPG)

보통 클라이언트-서버 환경의 업무 메뉴에 많이 이용된다. 예를 들어, 제품을 관리하는 업무가 있다면 제품을 기획하고, 연구 개발하며, 제조하고 배송, 판매하는 방법으로 업무가 진행될 것이다.

1.  엔티티의 상태를 이용하여 업무기능을 분해한다.

![http://wiki.gurubee.net/download/attachments/1966779/mod7.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod7.JPG)

엔티티타입 설계 시 상태 코드 속성이 도출되는데, 상태 코드로 각 엔티티가 어떤 상태인지 나타낸다. 이 상태를 이용해 업무 기능을 구분할 수 있고 또 분해할 수 있다. 

예를 들어, 수강 신청이라는 업무 기능이 있을 경우 수강 신청에 의해 엔티티가 발생하고, 그 엔티티의 상태가 수강신청이 된다. 연기하면 연기 상태, 취소하면 취소 상태가 되어 위의 도표처럼 업무 기능을 분해할 수 있다.

1.  업무이벤트에 따라 기능을 분리한다.

이벤트에 종속된 업무 기능을 도출한다.

- 고객이 보험금을 신청한다.
- -> 보험금 신청을 접수한다.
- -> 자격여부를 판단한다.
- -> 보험금을 지급한다.
1.  데이터의 구조에 따라 기능을 분리한다.
2. 위의 5개 다 안되면 브레인스토밍이라도 해라

## 4.2 단위 프로세스의 도출

### 단위 프로세스 검증 방법

1. **단위 프로세스가 실행될 때는 완전하고 의미 있는 결과를 가져와야 한다.**
- 각각의 실행은 업무데이터를 변형하는 데 모두 필요하고 모든 데이터의 무결성 규칙을 보장하는 변함없는 상태를 유지하는 역할을 함
- 만약 무결성 규칙을 어긴 프로세스는 지나치게 많이 분해 된 것임.
- 예를 들어, 구매를 하려면 구매 목록이 반드시 필요한데 두 사이 필수 관계가 설정될 것이다. 만약 특정 단위 프로세스가 구매 엔티티만 생성하고 구매목록 엔티티는 생성하지 않는다면 업무 규칙에 적절하지 않은 단위 프로세스가 된다. (데이터 업무 규칙)
- 다른 예1) 제품이 팔리면 재고가 줄어든다 같이 각각의 데이터값에 대한 정보가 상호 관련되어 있으면 별도의 프로세스로 분리하면 안되고 하나의 프로세스로 묶어야 한다. (데이터 값 업무 규칙)
- 다른 예2) 자동차 타이어 교체 업무에 타이어를 제거하는 것과 새로운 타이어를 부착하는 것은 하나의 프로세스로 묶어야 한다. 업무간 반드시 동일하게 이뤄저야 하는 업무 기능임(데이터 업무, 데이터 값과 상관 없이 지켜져야 할 무결성 - 업무 트랜잭션 무결성)

1. **프로세스는 서로 밀접하게 관련이 있는 형제 프로세스와 동시에 데이터 집합에 작용한다.**
- 프로세스 응집력: 프로세스와 데이터의 상관 관계
- 업무무결성을 보장하면서 비슷한 프로세스 여러 개가 동시에 동일한 데이터 영역에 대해 작용할 수 있음

1. **각각의 프로세스는 적어도 하나의 이벤트에 대해 응답이 존재해야 한다.**
2. 어느 단위 프로세스도 데이터에 전혀 상관없이 독립적으로 수행해서서는 안된다.
- 예를 들면, 웹 애플리케이션에는 사용자 화면에 많은 양의 애플리케이션 로직들이 포함되는데 화면 컨트롤에 관련된 로직이 단위 프로세스에 도출되어서는 안된다. → 이런 프로세스들은 모두 엔티티타입에 있는 데이터와 상관없이 다른 프로세스에 의해 읽어온 데이터를 화면에 보여줄 때 필요하다. 고로 화면 설계는 항상 데이터 모델과 프로세스 모델이 진행된 후에 시작하고, 사용자 인터페이스에 대한 설계도 프로젝트 설계 공정 중 뒤에 나오게 된다.
- 데이터와 관련 있는 프로세스인지 단위 프로세스가 수행한 결과에 대한 테스트로 데이터에 영향을 줬는지도 검증해봐야 함
- 예를 들어, 신규 주문을 하다라는 프로세스가 있다면 이 프로세스는 적어도 한 개 이상 주문목록을 생성할 것이므로 분석된 프로세스가 엔티티에 정말 영향을 주는지 검증할 필요가 있다. → 만약 상관하지 않는다면 실제로 상위 프로세스일 가능성이 크다.

### 예제

업무 설명

- 고객이 주문하면 주문목록에 주문된 제품을 기록한 후 모든 주문 기본 정보들이 기록된다.
- 주문이 정정되어 주문 기본 정보가 변경되거나(예를 들어, 고객이 선적일 변경을 요구할 경우) 주문목록이 변경되면 주문목록 정보가 변경된다(예를 들어, 고객이 주문제품의 수량을 변경 요청하는 경우). 두 개가 한꺼번에 발생하지 않을 때도 주문내용 변경이 정상적으로 수행되어야 함
- 고객 주문 프로세스에 대한 업무기능 분해도 초기 모습

![http://wiki.gurubee.net/download/attachments/1966779/mod20.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod20.JPG)

### 평가

1. "주문을 접수한다." 프로세스의 하위인 "주문의 기본 내용을 기록한다." , "주문 목록을 기록한다." 의 두 프로세스는 단독으로 수행되어서는 안되므로 잘못된 프로세스 도출임(필수 관계)
2. 주문을 접수한다는 말의 의미는 두 프로세스가 동시에 발생할 시에만 의미가 있음 - 주문, 주문목록
3. "주문을 수정한다" 프로세스의 하위인 "주문의 기본 내용을 수정한다", "주문 목록을 수정한다"의 두 프로세스의 경우 단독으로 수행될 수 있으므로 잘못된 설계가 아님

### 수정된 업무기능 분해도

![http://wiki.gurubee.net/download/attachments/1966779/mod22.JPG](http://wiki.gurubee.net/download/attachments/1966779/mod22.JPG)

ex1) 급여 계산 프로세스

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/714a77f8-d3cd-4a04-b663-57b1a2682193/Untitled.png)

ex2) 입사 지원 프로세스

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f383d53a-077b-48d3-8aed-29ebc1edbd91/Untitled.png)

ex3) 납품받는 것에 단위 프로세스

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1c4927cd-91c5-4056-897b-fa355761437a/Untitled.png)

ex4) 신규 고객이 서비스를 신청 - 아래 예는 지나치게 분해된 예로 따로 분리하지 말고 신규 고객 접수한다를 단위 프로세스로 쓰는게 옳음

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6fa0153f-a2e1-4655-9b8d-dae8b9757679/Untitled.png)

## 4.3 단위 프로세스와 데이터

- 업무 프로세스와 데이터 모델에 대해 상호 검증하는 단계가 필요. 이로 인해 새로운 프로세스가 도출될 수도 있으며, 새로운 엔티티타입이 존재할 수도 있음
* 상관관계표(CRUD)로써 기대효과를 정의하여 프로세스가 실행할 때 데이터에 영향을 주는 효과를 도식화 할 수 있음
- 고객 관리를 향상시키기 위한 개발 프로젝트에서 데이터 목록과 업무 기능(프로세스) 계층 목록의 모습
    
    ![http://wiki.gurubee.net/download/attachments/14024717/09.JPG](http://wiki.gurubee.net/download/attachments/14024717/09.JPG)
    
- 위와 같이 업무 기능과 데이터를 함께 표현하여 상호 검증과 보완이 이루어지게 하는 방법으로 프로세스 모델링 작업을 진행할 수 있다.
- 상호 영향을 나타내는 엔티티타입과 프로세스 매트릭스를 이용하여 기록 할 수 있다.
- 주문을 한다 라는 프로세스를 예로 들면 다음과 같은 형식으로 에티티들에 대해 영향을 미칠 것이다.
    - 고객 : 프로세스는 고객의 주문 우선순위에 대한 상세 정보를 읽어야 한다.
    - 주문 : 주문이 생성된다.
    - 주문 목록 : 각각의 주문이 다양한 목록을 주문하므로 주문목록이 생성된다.
    - 제품 : 각각의 주문목록을 생성하려면 읽어야 한다.
    - 제고 : 주문 목록으로 제품이 반영되었기 때문에 제품의 재고량도 감소되어야 한다
        
        ![http://wiki.gurubee.net/download/attachments/14024717/10.JPG](http://wiki.gurubee.net/download/attachments/14024717/10.JPG)
        

## 4.4 기타 프로세스 모델링 주요 방법

1. 업무 처리 종속도: 업무 처리 분석 작업에 의해 도출되는 산출물, DFD와 구조가 비슷
    
    필요한 이벤트가 무엇인지 그리고 각 프로세스는 다른 프로세스에 의해 어떤 영향을 받아 실행되는지를 분석한다.
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1d3076cf-fa86-48e3-97a8-4ec030316725/Untitled.png)
    
    E가 이벤트, D, F가 외부 오브젝트, 흐름들은 상호 의존 관계가 표현
    
    - 업무 기능 종속 관계를 나타냄으로써 각각 업무 기능의 사전 조건(Pre-Condition)과 사후 조건(Post-Condition)이 명확히 구별될 수 있다.

1. 이벤트
- 프로세스 모델링에서 이벤트는 업무 기능이 수행될 수 있도록 시스템에 어떤 일이 일어나는 것을 의미한다.
- 모든 업무 단위 프로세스는 반드시 이벤트에 의해 발생되고 업무 데이터에 영향을 준다는 특징이 있다.
- 외부 이벤트: 물리적으로 발생함(사람이 하는 일 등)
- 내부 이벤트: 눈에 보이지 않지만 발생하는 것(시간이 흐른다 등)