# TIL (2022.03.03)

### DAY 13

**🔖  오늘 읽은 범위 : ~7장 오류 처리**

---

<aside>

📖 **책에서 기억하고 싶은 내용**

</aside>

- 오류 코드보다 예외를 사용해라(130p)
- 예외에서 프로그램 안에 범위를 정의한다는 사실은 매우 흥미롭다.(132p)
- 어떤 면에서 try 블록은 트랜잭션과 비슷하다. try 블록에서 무슨 일이 생기든지 catch 블록은 프로그램 상태를 일관성 있게 유지해야 한다. 예외가 발생할 코드를 짤 때는 try-catch-finally 문으로 시작하는 편이 낫다.(132p)
- checked exception은 반드시 필요하지 않다. OCP를 위반하는데 하위 단계에서 코드를 변경할 경우, 상위 단계의 메서드 선언부 전부를 고쳐야 한다.(134p)
- 예외를 던질 때는 전후 상황을 충분히 덧붙인다. 오류 메시지에 정보를 담아 예외와 함께 던진다. 실패한 연산 이름과 실패 유형도 언급한다.(135p)
- 애플리케이션에서  오류를 정의할 때 프로그래머에게 가장 중요한 관심사는 오류를 잡아내는 방법이 되어야 한다.(135p)
- 특수 패턴 사례(Special Case Pattern)(136p)
- null을 반환하지 말고, 전달하지도 마라(140p)
- 대다수 프로그래밍 언어는 호출자가 실수로 넘기는 null을 적절히 처리하는 방법이 없다. 그렇다면 애초에 null을 넘기지 못하도록 금지하는 정책이 합리적이다. 즉, 인수로 null이 넘어오면 그 코드는 문제가 있다는 말이다.(142p)

<aside>

💡 **오늘 읽은 소감**

</aside>

일단 오늘 트랜잭션이 뭔지 설명하라는 질문을 받았는데 기억이 안나서 멍했었다. 트랜잭션이 데이터베이스의 논리적인 실행 단위라는 정도까지만 알고 있었는데 그걸 말하자니 뭔가 꼬리 질문이 들어올 거 같았고, 그걸 또 설명하기 힘들거 같아서 대답을 못했다. 그래서 try 블록이 트랜잭션과 비슷하다는 점이 읽으면서 다시 그 생각을 하게 됐다. 

나는 공부를 정확한 개념보다 내가 느끼는대로 하는 경향이 있다. 어떤 공부를 해도 개념을 정확히 외우기 보다는 생각한 대로 이해하곤 하는데 오히려 이런 부분은 정확히 암기가 필요하지 않을까 싶기도 했다. 설명하지 못하는 지식은 알지 못한다는 것과 다를 바가 없기 때문에 오늘 좀 반성이 됐다.

null 부분을 읽으면서 인수로 null이 넘어오거나 반환하거나 전달하거나 하는 상황을 경계해야 겠다고 생각했다. 자바에선 NullPointerException이 정말 자주 발생하는데 코틀린을 학습하면서 그 에러가 많이 줄었다. 코틀린이 null safe하다는 말을 하긴 하는데 사실 자바에 비해서는 맞긴 한데 꼭 그런가? 까진 모르겠다. 

null에 대한 처리 방법이 더 다양한 것은 맞지만 그렇다고 완벽히 null safe한지는 잘 모르겠다. 아마 내가 그 정도까지 코틀린을 학습하지 못해서 느끼는 것일 수도 있다. 코틀린 인 액션 스터디도 곧 시작할 예정인데 클린 코드에서 공부한 내용들이 잘 반영되서 공부에 도움이 됐으면 좋겠다.

추가로 특수 패턴 사례, special case pattern에 대해 처음 알게 되었다. 문구 자체가 살짝 낯설긴 한데 클래스를 생성하거나 객체를 통해 특수한 케이스를 처리한다는 면에서 또 그렇게까지 어려운 건 아닌거 같기도.

클라이언트에서 처리할 예외 상황을 백엔드에서 처리한다 느낌 정도?

아 끝내려고 했는데 이번 장은 뭔가 그래도 쓸게 많은 거 같다.

나는 아직 checked exception, unchecked exception을 설명해보라고 하면 설명을 못하는데, 오늘 책에서 이부분을 읽으면서 checked exception이 OCP를 위반한다는 점을 처음 알게됐다. 하위에서 수정한 사항이 상위 메서드 선언부에 영향을 끼친다는 점인데 실제 코드를 통해 공부해보면 좋을 거 같다고 생각했다.

미루게 될 거 같긴 한데 그래도 좀 몇 개 나중에 공부할 키워드를 킵해두자면

- checked exception - OCP
- unchecked excepiton
- specail case pattern
- null 처리 방법에 대한 java, kotlin에서 어떻게 하는지
- 트랜잭션

트랜잭션은 내일 볼 거다^^