### 라우터 및 스위치 구조

1. 라우터 및 스위치
    1. 시스코 제품들은 IOS(Internetwork Operation System)를 사용
    2. IOS는 시스코 장치들의 운영체제이면서 시스템 소프트웨어로 모든 시스코 제품에 설치되어 있음
    3. 동일한 네트워크 장치라도 운영체제의 라이선스가 어떻게 구성되어 있는지에 따라 특정 기능이 지원되지 않을 수도 있음
    4. 라우터, 스위치는 GUI, CLI 2가지 모드를 통해 설정할 수 있음
    5. GUI라면 SDM(secure device manager), CCP(cisco configuration professional), ASDM(adpative security  device manager) 같은 별도 전용 프로그램이 필요
    6. PC의 하드디스크에  설ㄹ치되어 실행되거나 라우터의 플래시 메모리에 설치되어 http 기반으로 실행할 수 있음
    7. 패킷트레이서에도 GUI와 CLI를 지원하나, GUI의 경우 패킷트레이서에서만 사용하는 형식이고 장치에 따라 설정할 수 있는 명령어도 극히 제한적임
        1. 본 강의에선 CLI 형태로 진행함
2. 라우터 및 스위치의 메모리 구조
    1. RAM(전원 꺼지면 내용이 날아감) - IOS - Program, Active Running - config, Table and Buffer
    2. NVRAM(설정 파일)
        1. 만약 설정 파일이 없으면 디폴트로 아무것도 설정이 안된 상태로 부팅됨
    3. FLASH(여러 번 쓸 수 있고, 전원 꺼도 내용이 남음) - IOS
    4. ROM(1번 쓸 수 있음, 전원을 꺼도 내용이 남음) - Subset IOS\
    5. 부팅 과정
        1. 라우터나 스위치의 전원을 키면 POST(Power On Self Test)를 실시해 장치의 이상 유무를 판단
        2. 이상이 없으면 롬에 있는 Bootstrap(Booting loader)를 RAM으로 옮김
        3. Bootloader가 FLASH에 있는 IOS를 RAM으로 옮김
        4. RAM으로 옮겨진 IOS는 실행되어지며, 정상적으로 부팅이 된 후, NVRAM에 있는 설정 파일을 적용
    6. FLASH 메모리에 있어야 할 IOS가 없거나 손상될 경우 ROM에 있는 subset IOS를 실행시켜 부팅하는데, 이를 롬몬rommon)모드라고 함
    7. 롬몬 모드는 IOS를 업데이트하거나 암호를 잊어버렸을 경우 강제로 진입해 문제를 해결할 수 있음
    
    1. PC에서 라우터 및 스위치 접속을 위해 콘솔 케이블을 사용함
    2. 콘솔이 연결되면 PC를 클릭한 후 데스크탑 탭에서 터미널 클릭 후 설정 후 OK를 누르면 라우터 또는 스우치로 접속 가능
    

### 라우터 및 스위치의 역할

1. 라우터의 역할
    1. 3계층에 속하는 장치
    2. 패킷을 전달하며 IP 주소를 기반으로 함
    3. 패킷을 전달 할 때 라우팅 테이블을 참고함
    4. 라우터는 ARP 테이블도 갖고 있음
    5. 라우팅 프로토콜을 기반으로 라우팅 테이블을 생성하고, 라우팅 프로토콜의 특성에 따라 보내는 패킷의 경로가 다를 수 있음
    6. 라우터는 LAN과 WAN을 연결시켜 주는 중간자 역할을 하고 있음
    7. 원격 접속을 통해서도 라우터에 접근할 수 있음
        1. Telnet : 가장 일반화된 원격 접속 프토콜이나 보안에 약한 취약점이 있음
        2. SSH : Telnet과 같은 일을 하지만, 주고 받는 데이터를 암호화함
        3. 원격 접속은 HTTP를 사용해 설정하는 것도 가능
2. 스위치 역할
    1. 2계층에 속함
    2. 프레임을 전달하는 장치로, MAC 주소를 기반으로 함. MAC 테이블을 생성함(L2 스위치)
    3. 프레임 전달할 때 MAC 테이블을 참고함
    4. 시뮬레이션 모드를 통해 PC에서 어떻게 데이터가 전달되는지 쉽게 알 수 있음