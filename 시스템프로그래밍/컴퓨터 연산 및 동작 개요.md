# 컴퓨터 연산 및 동작개요

## 컴퓨터의 기본 구성요소

프로세서(cpu), 기억장치(RAM, ROM), 입출력장치(키보드, CRT), 시스템 버스(주소, 데이터, 제어 버스)

1. 프로세서
    1. 마이크로 프로세서 구성
        1. 명령어 실행 장치(EU: Execution unit)
            1. 명령을 실행시키는 부분
            2. 산술 논리 연산 장치 : 산술 논리 연산에 사용
            3. 범용 레지스터(General Purpose Register) : 자료 임시 저장에 사용
        2. 버스 인터페이스 장치(BIU: Bus Interface Unit)
            1. 명령어 페치(fetch)
                1. 기억 장치나 입출력 장치보퉈 데이터를 읽어오거나 출력
            2. segement register : 내부 통신에 사용
            3. 가산기(Adder): 유효 주소계산에 사용
            4. 명령어 큐 : 실행할 명령어를 기억장치로부터 가져와 임시로 보관, 명령어 목록 저장에 사용
        3. 내부 버스(Internal Bus)
            1. 프로세서 내부에서 사용되는 버스
            2. 각 부분의 자료를 전달해줌
        4. 레지스터 : 자료의 임시 저장소
            1. 범용 레지스터(General Purpose Register)
            2. 세그먼트 레지스터(Segment Register)
            3. 명령어 포인터(IP: Instruction Pointer)
            4. Index Register

1. 시스템 버스
    1. 프로세서, 기억장치, 입출력 장치 사이를 연결하는 신호선
    2. 여러 개의 신호선으로 구성
    3. 신호선 N개면 버스의 크기는 N비트가 됨
    4. N비트 버스는 한 사이클(동시)에 2^N가지의 정보 전달이 가능
        1. 신호선이 16개면 16비트의 버스. 즉, 2^16 → 65,535 가지 데이터 전달 가능
    5. 종류
        1. 주소(Address Bus) : 주소를 전달하는 통로
            1. 단방향: 프로세서가 메모리나 입출력 기기의 주소를 지정할 때 사용
            2. 프로세서가 접근할 수 있는 기억장치의 주소 공간을 결정
            3. 물리 주소를 지정하는데 쓰임
            4. 주소 버스의 대역은 시스템이 할당할 수 있는 기억공간의 양을 결정
                1. 주소 버스 크기가 32비트인 경우 2의32승 개의 메모리 위치를 할당할 수 있음
        2. 데이터 버스(Data Bus) : 데이터가 전송되는 통로
            1. 양방향 : 중앙처리장치에서 기억장치나 입출력 장치로 데이터를 보내거나 기억장치 또는 입출력 장치에서 중앙처리장치로 데이터를 읽어 들일 때 상요
            2. 한 사이클 시간에 전송될 데이터의 양을 결정
                1. 단어의 크기가 레지스터의 크기와 관련 있음
                2. 80386,80486 프로세서에서는 32비트 사용
                3. 80586에서는 64비트 사용
        3. 제어 버스(Control Bus) : 제어 신호를 전달하는 통로
            1. 중앙처리장치가 기억장치나 입출력 장치와 전송을 할 때, 자신의 상태를 다른 장치들에게 알리기 위해 사용되는 신호를 전달
            2. 제어 신호의 종류
                1. 기억장치 동기 신호
                2. 입출력 동기 신호
                3. 중앙처리장치 상태 신호
                4. 인터럽트(끼어들기) 요구 및 허가 신호
                5. 클럭 신호

1. 기억장치
    1. 컴퓨터에서 자료를 일시적 또는 영구히 보존하는 장치
        1. 주기억장치
            1. 컴퓨터 내부에 존재하는 내부 기억장치
            2. ROM과 RAM을 구성
                1. ROM(Read Only Memory) : 주로 시스템이 필요한 내용을 제조단계에서 기억시킨 후 사용자는 오직 기억된 내용을 읽기만 하는 장치. 비휘발성.
                2. RAM(Random Access Memory) : 읽기/쓰기가 모두 가능한 휘발성 기억장치. 각종 프로그램이나 데이터를 불러와 작업할 수 있는 공간. DRAM과 SRAM 비교.
                
                | 구분 | DRAM(Dynamic) | SRAM(Static) |
                | --- | --- | --- |
                | 재충전여부 | 필요 | 불필요 |
                | 구조 | 단순 | 복잡 |
                | 속도 | 느리다 | 빠르다 |
                | 가격 | 저가 | 고가 |
                | 용량 | 크다 | 작다 |
                | 용도 | 일반 주기억장치 | 캐시메모리 |
            3. CPU에 의해 참조되는 장치
            4. 처리되어야 할 데이터나 프로그램이 기억됨
            5. 용량은 작지만, 처리속도는 보조기억장치보다 빠름
            6. RAM 
                1. SAM(Sequential Access Memory)
                2. RAM - SRAM, DRAM
            7. ROM
                1. mark ROM
                2. FPROM - PROM, EPROM(UVPROM, EEPROM)
        2. 보조기억장치 - HDD
            1. 주기억장치의 용량 부족을 해결하기 위해 컴퓨터 외부에 마련한 대용량 기억장치
            2. 주기억장치보다 속도는 느리나 용량이 크다
            3. 보조기억장치의 특성
                1. 주기억장치와 비교해 느림
                2. 기억용량 확장이 목적
                3. 단위 기억용량당 비용이 저렴
                4. 데이터의 장기보관이 가능
                5. 대부분 비휘발성 기억장치
                6. 종류 - 자기디스크, 자기테이프, CD-ROM, 집 드라이브, USB 플래시 드라이브 등
                

### 명령어 실행 개념

1. 판독 사이클과 기록 사이클
    1. 컴퓨터의 기본 동작
        1. 판독 사이클(Read Cycle) 
            1. 프로세서가 자료를 기억장치에서 가져오는 절차
            2. 4단계로 구성
                1. 1단계 : 판독 요구 신호, 제어 버스를 통해 전달
                2. 2단계 : 주소 전송, 주소 버스를 통해 기억장치로 전달
                3. 3단계 : 데이터 전송, 기억장치에서 데이터 버스를 통해 프로세서로 전달
                4. 4단계 : 판독 완료 신호, 프로세서에서 제어 버스로.
            3. 판독 요구 신호, 주소 전송, 데이터 수신, 판독 완료 신호
        2. 기록 사이클(Write Cycle)
            1. 프로세서가 처리 결과를 기억장치에 보내는 절차
            2. 4단계로 구성
                1. 1단계: 기록 요구 신호, 제어버스로
                2. 2단계 : 주소 전송, 주소 버스를 통해 기억장치로
                3. 3단계 : 데이터 전송, 데이터 버스를 통해 프로세서로
                4. 4단계 : 기록 완료 신호, 기억장치에서 제어 버스로.
            3. 기록 요구 신호, 주소 전송, 데이터 전송, 기록 완료 신호
            
    
    프로세서 → 기록 사이클 → 기억장치
    
    프로세서 ← 판독 사이클 ← 기억장치
    
2. 명령어 실행
    
    기억 장치에서 읽은 프로그램 명령어 실행
    
    실행 과정 : 명령어 인출, 명령어 해독, 데이터 인출, 실행사이클
    
    명령어 인출 → 명령어 해독 → 데이터 인출 → 실행 사이클
    
    명령어 인출
    
    - IP 주소 → 주소 버스
    - 명령어 → 명령어 큐
    - IP + 2 → IP
    
    명령어 해독
    
    - 명령어 → EU
    - 필요한 동작 판단
    
    데이터 인출
    
    - 연산할 주소에 대한 데이터 인출 → 레지스터
    
    실행 사이클
    
    - 명령어 인출
    - 실행 결과 → 레지스터 또는 주기억장치에 저장
    
3. 명령어 실행 속도

한 명령어가 실행되는 시간 = 명령어 호출 시간 + 명령어 해독 시간 + 데이터 호출 시간 + 실행 시간

- Fetch Time(I-Time) : 명령어 호출 시간
- Execution Time(E-Time) : 명령어를 해석해 데이터를 인출하고 연산을 수행하는 시간

명령어 실행 속도를 결정짓는 요소

- 사이클 시간
- 데이터 버스 크기
- 레지스터 크기
- 논리연산장치 크기
- 명령어 크기

명령어 길이가 각기 다르기 때문에 명령어 실행시간이 일정하지 않음

하나의 명령어를 실행하기 위해서 4~200 사이클 시간이 소요됨

명령어 실행 속도를 나타내는 단위는 초당 몇 개의 명령어가 실행되는가를 측정

| 단위 | 설명 |
| --- | --- |
| IPS(Instruction per Second) | 1초당 몇 개의 명령어가 실행 가능한가 |
| MIPS(Million ) | 1초당 100만 개의 명령어가 실행가능한지 |
| FLOPS | 1초에 부동소수점 연산이 몇 번 가능 |
| MFLOPS | 1초에 부동소수점 연산이 몇 백만 번 가능한지 |

### 기억장치 관리

1. 기억장치 주소
    1. 기억장치는 일정한 크기의 단위별로 기억 공간을 분할하고, 분할된 영역마다 주소 번지를 부여하며 관리
    2. 주소를 바이트 단위로 할당할 경우. 예) 64KB 기억장치

1. 기억 장치 관리 방법
    1. 선형 기억 장치 관리
        1. 주소를 선형으로 배열
        2. 논리 주소 = 물리 주소
        3. M68000 프로세스 등
    2. 세그먼트 기억장치 관리
        1. 기억장치를 세그먼트로 구분
        2. 논리주소 ≠ 물리주소
        3. 물리주소 = 논리주소 + 세그먼트 번호
        4. 프로그램은 논리적인 주소를 0번부터 사용해 프로그램이나 데이터를 세그먼트 단위로 기록 가능
        5. 인텔 프로세서 계열의 컴퓨터와 많은 대형 컴퓨터 등
        

### 컴퓨터 조직은 무엇으로 구성되어 있으며 어떻게 처리되는가?

컴퓨터는 프로세서, 기억장치, 입출력장치, 시스템 버스로 구성된다. 프로세서는 명령을 실행시키는 역할을 하고 기억장치는 컴퓨터에서 자료를 일시적, 또는 영구적으로 보존하는 역할을 한다. 주기억장치와 보조기억장치로 나뉜다. 입출력 장치는 키보드, 모니터 등을 얘기한다. 이런 장치들을 시스템 버스로 장치 사이를 연결해 판독, 기록, 명령어 인증, 명령어 해독, 필요한 데이터 인출, 실행 사이클을 통해 처리된다. 

1. n개의 신호 선에는 버스의 크기도 n비트다. 
2. 판독 사이클 : 프로세서가 자료를 기억장치에서 가져오는 절차