# 유닉스 파일 조작하기 1

### 파일 내용보기

- cat : 파일의 내용을 연속적으로 화면에 출력
    - cat [-n] 파일명
    - -n : 행 번호를 붙여서 출력하는 옵션
- more : 화면 단위로 출력(파일의 내용이 많을 경우 사용)
    - more [+n] 파일명
    - -n : 출력을 시작할 때 행 번호를 지정하는 옵션
- 화면의 페이지 이동 명령어
    - 스페이스바 : 다음 화면 출력
    - 엔터 : 행 단위 스크롤
    - “/문자열" : 해당 문자열을 찾아 줌
    - q : more 명령어 중지
- tail : 파일의 뒷부분 몇 행을 출력(기본값은 10)
    - tail (+- n) 파일명
    - -n : 출력할 행의 개수를 지정하는 옵션
    - +n : 출력을 시작할 행을 지정하는 옵션

### 파일 내용 비교

- comm [옵션] 파일명1 파일명2 : 두 파일 내용을 행 단위로 비교
    - 옵션
        - -1 : 두 대를 비교하되 파일명 1에만 있는 것은 출력하지 않음
        - -2 : 두 개를 비교하되 파일명 2에만 있는 것은 출력하지 않음
        - -3 : 두 개를 비교해 파일명 1과 파일명2에 모두 존재하는 것은 출력하지 않음

- cmp [옵션] 파일명1 파일명2 : 두 개의 파일을 비교해 다른 점을 확인할 때 사용
    - 옵션
        - -l : 틀린 문자의 개수를 출력하고 각각 틀린 문자에 대한 8진수 값을 출력
        - -s : 아무런 메시지를 보여주지 않고 종료 코드만 넘겨줌(종료 코드가 0이면 두 파일이 같음, 1이면 다를 때, 2이면 파일에 접근할 수 없을 때를 의미)

실습 문제

echo 명령어를 이용해 일부 중복되는 간단한 텍스트 파일을 생성해 cmp 명령어를 실습

1단계 echo 명령어를 이용해 “Hi! Good Morning”라는 텍스트를 갖는 cmp_test라는 파일을 생성

echo “Hi! Good Morning” > cmp_test

2단계 echo 명령어를 이용해 “Hi~ world friend”라는 텍스트를 갖는 cmp_test2라는 파일을 생성

echo “Hi! world friend” > cmp_test2

3단계 cmp_test와 cmp_test2라는 파일을 cmp 명령어를 이용해 비교

cmp cmp_test cmp_test2

결과 두 파일은 첫 번째 줄 5번째 문자부터 다름을 알 수 있게 메시지를 표시

### 파일 복제

- cp [옵션] 원본파일명/디렉토리명 사본파일명/디렉토리명
    - -i : 원본과 동일한 이름이 사본에 존재할 경우, overwrite할 것인지를 사용자에게 물어봄
    - -r : 디렉토리를 복사할 때 지정

디렉토리 복사 실습

**1단계** 나의 위치 확인 : pwd

**2단계** 현재 디렉토리의 하위 디렉토리 및 파일 목록을 확인 : ls

**3단계** 현재 디렉토리에 cptest라는 하위 디렉토리 생성 후 ls로 확인

mkdir cptest

ls

4**단계** 현재 디렉토리의 하위 디렉토리인 cptest를 test 라는 이름으로 복사

cp cptest test

cp -r cptest test

ls

결과 디렉토리를 복사할 때는 “-r” 옵션을 주지 않고 실행했을 때는 “cptest는 디렉토리다"라는 에러가 나서 복사가 안되었음. 디렉토리를 복사하고 싶을 때는 반드시 “-r” 옵션을 줘야한다.

실습 : etc 디렉토리에 있는 services 파일을 현재 디렉토리에 text.txt 파일로 복사

cp /etc/services cptext.txt

실습 : 현재 디렉토리에 있는 text.txt 파일을 현재 디렉토리 하위에 있는 cptest 디렉토리로 복사

cp cptext.txt cptest

ls cptest

실습 : 현재 디렉토리에 있는 text.txt 파일을 현재 디렉토리 하위에 있는 cptest 디렉토리로 text.txt 라는 이름으로 복사

cp cptext.txt cptest/text.txt

ls cptest

### 파일 삭제

rm [옵션] 파일명/디렉토리명

- -i : 파일명을 삭제할 때, 사용자에게 물어봄
- -r : 디렉토리를 삭제할 때 지정

실습 : 현재 디렉토리의 하위 디렉토리인 test 디렉토리 삭제

rm -r test

실습 : 현재 디렉토리에 있는 cptest.txt 파일을 삭제

rm cptext.txt

### 파일 이동

mv [옵션] 파일명1/디렉토리명1 파일명2/디렉토리명2

- -i : 파일명2/디렉토리명2가 존재하면 overwrite할 것인지를 사용자에게 물음

실습 : 현재 디렉토리의 하위 디렉토리인 cptest 디렉토리에 있는 text.txt 파일을 현재 디렉토리로 이동

mv cptest/text.txt .